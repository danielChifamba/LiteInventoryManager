{% extends "components/main/base.html" %}
{% load static %}
{% block customCSS %}
<link rel=stylesheet href="{% static 'styles/table.css' %}">{% endblock customCSS %}
{% block title %}<title>{{ business.business_name }} - Cashiers</title>{% endblock title %}
{% block content %}<main><h1 class=title>Cashiers</h1><hr>{% include 'components/main/alert.html' %}<div class=container-fluid><div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-primary mb-3" data-bs-toggle=modal data-bs-target=#addCashierModal>Add Cashier</button></div><div class="container-fluid rounded-4 p-2"><div class="container d-flex align-items-center justify-content-end my-2"><form class="d-flex position-relative" role=search><input class="form-control me-2" type=search placeholder=Search aria-label=Search></form></div><table class="table table-striped table-hover text-center border">{% if cashiers %}<thead class=thead-primary><tr><th>Cashier ID<th>Username<th>Cashier Name<th>Email<th>Phone Number<th>Status<th>Action<tbody>{% for cashier in cashiers %}<tr><td>{{ cashier.cashier_id }}<td>{{ cashier.user.username }}<td>{{ cashier.user.get_full_name }}<td><a href="mailto:{{ cashier.user.email }}">{{ cashier.user.email }}</a><td><a href="tel:{{ cashier.user.phone_number }}">{{ cashier.user.phone_number }}</a>
{% comment %}<td><span class="status active">{{ session.user }}</span> {% endcomment %}
{% for session in sessions %}
{% if session.user == cashier.user %}
{% if session.is_active %}<td><span class="status active">active</span>
{% else %}<td><span class="status unactive">not active</span>
{% endif %}
{% endif %}
{% endfor %}<td><button class="btn btn-sm edit action" data-bs-toggle=modal data-bs-target=#updateCashierModal data-cashier-id={{cashier.cashier_id}} data-cashier-username={{cashier.user.username}} data-cashier-first-name={{cashier.user.first_name}} data-cashier-last-name={{cashier.user.last_name}} data-cashier-email={{cashier.user.email}} data-cashier-phone-number={{cashier.user.phone_number}}><i class="bi bi-pencil color-warning"></i></button>
<button class="btn btn-sm delete action" data-bs-toggle=modal data-bs-target=#warningModal><i class="bi bi-trash color-danger"></i></button>
{% endfor %}
{% else %}<div class="d-flex align-items-center justify-content-center p-2 rounded-3 bg-grey"><div class=lead>No cashiers available</div></div>{% endif %}</table></div></div></main>{% include 'components/dashboard/cashiersModal.html' %}
{% endblock content %}
{% block customJS %}
<script src="{% static 'utils/password.js' %}"></script><script src="{% static 'utils/reset.js' %}"></script>{% endblock customJS %}