{% load static %}<!doctype html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/png href="{% static 'img/logo.png' %}"><link rel=stylesheet href="{% static 'styles/ext/bootstrap.min.css' %}">{% comment %} <link rel=stylesheet href="{% static 'styles/ext/bootswatch.min.css' %}">{% endcomment %}
<link rel=stylesheet href="{% static 'styles/ext/bootstrap-icons.css' %}"><link rel=stylesheet href="{% static 'styles/main.css' %}"><link rel=stylesheet href="{% static 'styles/loader.css' %}"><link rel=stylesheet href="{% static 'styles/pos_update.css' %}"><title>POS - Inventory Management System</title><body><div id=preloader><div class=firework-loader><div></div><div></div><div></div></div></div><span style=display:none id=taxRate>{{ business.tax_rate }}</span>
<span style=display:none id=logoUrl>{{ business.business_logo.url }}</span>
<span style=display:none id=currencySymbol>{{ business.currency_symbol }}</span><div class=main-container><header class="header p-3 px-4"><div class="d-flex justify-content-between align-items-center"><div class=logo><img src="{{ business.business_logo.url }}" alt="Business Logo">
<span>{{ business.business_name }}</span></div><div class="d-flex align-items-center mx-2">{% comment %} {% if profile.dark_mode %}
<i class="bi bi-sun theme"></i>
{% else %}
<i class="bi bi-moon theme"></i>
{% endif %} {% endcomment %}
{% comment %} <i class="bi bi-bell notify"></i> {% endcomment %}<div class="profile rounded-circle d-flex align-items-center justify-content-center position-relative bi bi-person-circle fs-1" style=background-color:#888;><ul class=profile-link><li><a href="{% url 'b_auth:logout' %}">Logout</a></ul></div></div></div></header><div class=content-area><div class="products-section container-fluid pt-3"><div class="section-header d-flex align-items-center justify-content-between gap-2"><input class=search-input id=searchInput placeholder="Search products by name or SKU..." autocomplete=off>
<select class=category-filter id=categoryFilter><option value=display-all>All Categories</select></div><div class=products-grid id=productsGrid></div></div><div class=cart-section><div class="cart-header d-flex justify-content-between align-items-center mb-3"><span class="lead fw-bold">Shopping Cart</span>
<button class=clear-cart-btn onclick=POS.clearCart()>Clear All</button></div><div class=cart-items id=cartItems><div class="text-center text-muted py-4 d-flex flex-column justify-content-center h-100 fw-bold">Cart is empty<br><small>Add products to start a sale</small></div></div><div class=cart-total id=cartTotal style=display:none><div class=total-row><span>Subtotal:</span>
<span id=subtotal>$0.00</span></div><div class=total-row><span style=display:none id=taxRate>{{ business.tax_rate }}</span>
<span>Tax ({{ business.tax_rate }}%):</span>
<span id=tax>$0.00</span></div><div class="total-row total-final"><span>Total:</span>
<span id=total>$0.00</span></div></div><div class=checkout-section><div class=payment-method><button class="payment-btn active" data-method=cash onclick='POS.selectPaymentMethod("cash")'>Cash</button>
<button class=payment-btn data-method=card onclick='POS.selectPaymentMethod("card")'>Card</button>
<button class=payment-btn data-method=mobile onclick='POS.selectPaymentMethod("mobile")'>Mobile</button></div><button class=checkout-btn id=checkoutBtn onclick=POS.completeSale() disabled>
Complete Sale
</button>
<button class="btn btn-sm btn-primary d-none" id=getReceipt data-bs-toggle=modal data-bs-target=#receiptModal></button></div></div></div></div><div class="modal fade show" id=receiptModal tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Sale Complete!</h5><button type=button class=btn-close data-bs-dismiss=modal></button></div><div class="modal-body receipt mx-2" id=receiptContent></div></div></div></div><script src="{% static 'utils/ext/bootstrap.bundle.min.js' %}"></script><script src="{% static 'utils/ext/popper.min.js' %}"></script><script src="{% static 'utils/ext/jquery.min.js' %}"></script><script src="{% static 'utils/loader.js' %}"></script><script src="{% static 'utils/pos-sale.js' %}"></script><script>$(document).ready(function(){POS.init()});const profile=document.querySelector(".profile"),dropdownProfile=profile.querySelector(".profile-link");profile.addEventListener("click",function(){dropdownProfile.classList.toggle("show")}),window.addEventListener("click",function(e){e.target!==profile&&e.target!==dropdownProfile&&dropdownProfile.classList.contains("show")&&dropdownProfile.classList.remove("show")});function printReceipt(){const receiptModal=document.getElementById('receiptContent');const receiptContent=receiptModal.innerHTML;const printWindow=window.open('','_blank');printWindow.document.write(receiptContent);printWindow.print();printWindow.onafterprint=()=>{printWindow.close()}}</script>