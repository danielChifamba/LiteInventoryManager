{% extends "components/main/base.html" %}
{% load static %}
{% block customCSS %}
<link rel=stylesheet href="{% static 'styles/settings.css' %}">{% endblock customCSS %}
{% block title %}<title>Settings</title>{% endblock title %}
{% block content %}<main><h1 class=title>Settings</h1><hr>{% include 'components/main/alert.html' %}<div class=container-fluid><div class="container-fluid rounded-4 p-3"><nav class=fw-bold><div class="nav nav-tabs mb-3" id=nav-tab role=tablist><button class="nav-link active" id=business-settings-tab data-bs-toggle=tab data-bs-target=#business-settings type=button role=tab aria-controls=business-settings aria-selected=true>Business Settings</button>
<button class=nav-link id=general-settings-tab data-bs-toggle=tab data-bs-target=#general-settings type=button role=tab aria-controls=general-settings aria-selected=false>General Settings</button>
<button class=nav-link id=profile-settings-tab data-bs-toggle=tab data-bs-target=#profile-settings type=button role=tab aria-controls=profile-settings aria-selected=false>Profile Settings</button>
<button class=nav-link id=receipt-settings-tab data-bs-toggle=tab data-bs-target=#receipt-settings type=button role=tab aria-controls=receipt-settings aria-selected=false>Receipt Settings</button>
<button class=nav-link id=backup-settings-tab data-bs-toggle=tab data-bs-target=#backup-settings type=button role=tab aria-controls=backup-settings aria-selected=false>Backup & Data</button>
<button class="nav-link disabled" id=activation-tab data-bs-toggle=tab data-bs-target=#activation type=button role=tab aria-controls=activation aria-selected=false>Activation</button></div></nav><div class=tab-content id=nav-tabContent><div class="tab-pane fade show active" id=business-settings role=tabpanel aria-labelledby=business-settings-tab><form method=post action="{% url 'settings:business_settings' %}" enctype=multipart/form-data>{% csrf_token %}<div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-success">Save Changes</button></div><div class="d-flex align-items-center gap-3 flex-column"><div class="business d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Logo</div><div class="container action d-flex align-items-center gap-2"><img src="{{ business.business_logo.url }}" alt class=b-logo id=business_logo_preview>
{{ businessForm.business_logo }}<div class="btn btn-warning" onclick=selectPicture()>Edit</div><button type=button class="btn btn-danger" data-bs-toggle=modal data-bs-target=#resetLogoModal>Reset</button></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Name</div><div class="container action">{{ businessForm.business_name }}<div id=nameHelp class=form-text>This is the business name.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Address</div><div class="container action">{{ businessForm.business_address }}<div id=nameHelp class=form-text>This is the business location/address.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Email</div><div class="container action">{{ businessForm.business_email }}<div id=nameHelp class=form-text>This is the business email.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Phone Number</div><div class="container action">{{ businessForm.business_number }}<div id=nameHelp class=form-text>This is the business phone number.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Business Website</div><div class="container action">{{ businessForm.business_website }}<div id=nameHelp class=form-text>This is the business website (if available).</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Tax Rate</div><div class="container action">{{ businessForm.tax_rate }}<div id=nameHelp class=form-text>This is tax value.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Currency Symbol</div><div class="container action">{{ businessForm.currency_symbol }}<div id=nameHelp class=form-text>This is th currency symbol for the system(max of 3 characters).</div></div></div></div></form></div><div class="tab-pane fade" id=general-settings role=tabpanel aria-labelledby=general-settings-tab><form method=post action="{% url 'settings:general_settings' %}">{% csrf_token %}<div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-success">Save Changes</button></div><div class="d-flex align-items-center gap-3 flex-column"><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Date Format</div><div class="container action">{{ generalForm.date_format }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Timezone</div><div class="container action">{{ generalForm.timezone }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Backup Frequency</div><div class="container action">{{ generalForm.backup_frequency }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Auto Backup</div><div class="container action">{{ generalForm.auto_backup }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Theme Color</div><div class="container action">{{ generalForm.theme_color }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Dark Mode</div><div class="container action">{{ generalForm.dark_mode }}</div></div></div></form></div><div class="tab-pane fade" id=profile-settings role=tabpanel aria-labelledby=profile-settings-tab><form method=post action="{% url 'settings:profile_settings' %}" enctype=multipart/form-data>{% csrf_token %}<div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-success">Save Changes</button></div><div class="d-flex align-items-center gap-3 flex-column"><div class="business d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Profile Picture</div><div class="container action d-flex align-items-center gap-2">{{ profileForm.profile_picture }}
<img src="{{ profile.profile_picture.url }}" alt class=b-logo id=profile_pic_preview><div class="btn btn-warning" onclick=openProfilePic()>Edit</div><button type=button class="btn btn-danger" data-bs-toggle=modal data-bs-target=#resetLogoModal>Reset</button></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Email Address</div><div class="container action">{{ profileForm.email }}<div id=emailHelp class=form-text>This is email that receives alerts.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Phone Number</div><div class="container action">{{ profileForm.phone_number }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Report Email</div><div class="container action">{{ profileForm.daily_report_email }}<div id=emailHelp class=form-text>This is email that receives daily reports.</div></div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Receive Email Alerts</div><div class="container action">{{ profileForm.alerts_email }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Low Stock Alerts</div><div class="container action">{{ profileForm.low_stock_alerts }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Expense Alerts</div><div class="container action">{{ profileForm.expense_alerts }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Daily Report</div><div class="container action">{{ profileForm.enable_daily_reports }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Email Alerts</div><div class="container action">{{ profileForm.enable_alert_emails }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Backup Notifications</div><div class="container action">{{ profileForm.enable_backup_notifications }}</div></div></div></form></div><div class="tab-pane fade" id=receipt-settings role=tabpanel aria-labelledby=receipt-settings-tab><form method=post action="{% url 'settings:receipt_settings' %}">{% csrf_token %}<div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-success">Save Changes</button></div><div class="d-flex align-items-center gap-3 flex-column"><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Show Thank You Note</div><div class="container action">{{ receiptForm.show_thank_you_note }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Thank You Note</div><div class="container action">{{ receiptForm.thank_you_note }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Show Logo</div><div class="container action">{{ receiptForm.show_logo }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Show Cashier Name</div><div class="container action">{{ receiptForm.show_cashier_name }}</div></div><div class="name d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Show Sale Time</div><div class="container action">{{ receiptForm.show_sales_time }}</div></div></div></form></div><div class="tab-pane fade" id=backup-settings role=tabpanel aria-labelledby=backup-settings-tab>{% comment %}<div class="d-flex align-items-center gap-3 flex-column"><div class="data d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Data</div><div class="container action d-flex align-items-center gap-2"><form method=post enctype=multipart/form-data action="{% url 'settings:backup_import' %}" id=backup_form>{% csrf_token %}
<input type=file name=backup_file class=d-none required id=backup_file></input><div class="btn btn-primary rounded-3" type=submit onclick=openRestore()>Restore Backup</div></form><a href="{% url 'settings:manualBackup' %}" class="btn btn-success rounded-3">Export Backup</a></div></div></div>{% endcomment %}<div class="d-flex align-items-center gap-3 flex-column"><div class="data d-flex justify-content-between w-100 p-2 align-items-center gap-2"><div class=container><p class="lead fw-thin">Reset</div><div class="container action d-flex align-items-center gap-2"><button class="btn btn-danger" data-bs-toggle=modal data-bs-target=#resetSystemModal>Reset System</button></div></div></div></div><div class="tab-pane fade" id=activation role=tabpanel aria-labelledby=activation-tab><div class="container action d-flex gap-2 justify-content-end"><button class="btn btn-success" data-bs-toggle=modal data-bs-target=#checkStatusModal>Check Status</button></div><div class="container d-flex align-items-center justify-content-center width-50"><form class="align-items-center text-center w-100"><div class="form-floating mb-3">{{ activateForm.key }}
<label for=floatingInput>Activate</label></div><button class="btn btn-primary">Activate</button></form></div></div></div></div></div></main>{% include 'components/settings/settingsModal.html' %}
{% endblock content %}
{% block customJS %}
<script src="{% static 'utils/settings.js' %}"></script>{% endblock customJS %}